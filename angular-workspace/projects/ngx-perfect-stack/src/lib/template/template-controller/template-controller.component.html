<ng-container *ngIf="template && metaEntityOptions$ | async as metaEntityOptions">

  <div class="row">
    <div class="col-10">
      <lib-template-options-panel [template]="template"></lib-template-options-panel>

      <ng-container [ngSwitch]="template.type">
        <ng-container *ngSwitchCase="'form'">
          <app-template-form-editor [template]="template" [metaEntity]="getMetaEntity(template, metaEntityOptions)"></app-template-form-editor>
        </ng-container>

        <ng-container *ngSwitchCase="'table'">
          <app-template-table-editor [template]="template" [metaEntity]="getMetaEntity(template, metaEntityOptions)"></app-template-table-editor>
        </ng-container>

        <ng-container *ngSwitchDefault>
          <div>UNKNOWN template type of {{template.type}}</div>
        </ng-container>
      </ng-container>
    </div>

    <div class="col-2 border-left border-dark">
      <app-attribute-palette [metaEntity]="getMetaEntity(template, metaEntityOptions)"></app-attribute-palette>
    </div>
  </div>
</ng-container>

