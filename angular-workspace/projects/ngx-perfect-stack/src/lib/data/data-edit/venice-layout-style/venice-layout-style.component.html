<ng-container *ngIf="ctx">

  <div class="container-fluid venice-layout-style p-5">
    <!--<a class="back-link" [routerLink]="['/data', ctx.metaEntity.name, 'search']">
      <span class="material-symbols-outlined align-middle">keyboard_backspace</span>
      <span class="align-middle">Search {{ctx.metaEntity.pluralName.toLowerCase()}}</span>
    </a>-->
    <lib-back-link [ctx]="ctx"></lib-back-link>


    <ng-container *ngFor="let template of headerTemplates; index as i">
      <div class="d-flex justify-content-between my-3">
        <div>
          <lib-controller [ctx]="ctx" [template]="template" [showTemplateHeadings]="false"></lib-controller>
        </div>
        <div>
          <!--<ng-content select="[TopRightActions]"></ng-content>-->
          <lib-tool-view [tool]="template.locations[TemplateLocationType.TopRight]" [ctx]="ctx"></lib-tool-view>
        </div>
      </div>
    </ng-container>

    <div class="d-flex justify-content-between my-2">
      <!-- Remember: there are different titles at different levels, so this may or may not appear depending on page meta data -->
      <!--<h2 id="sectionHdg" *ngIf="ctx.metaPage.title">{{ctx.metaPage.title}}</h2>-->

      <ng-container *ngIf="outerTopRightTool">
        <lib-tool-view [ctx]="ctx" [tool]="outerTopRightTool"></lib-tool-view>
      </ng-container>
    </div>

    <ng-container *ngFor="let template of contentTemplates; index as i">
      <lib-controller [ctx]="ctx" [template]="template"></lib-controller>
    </ng-container>

    <lib-audit-view [mode]="'view'" [entityId]="ctx.id"></lib-audit-view>

    <lib-version [style]="'Footer'"></lib-version>
  </div>

</ng-container>
