<ng-container *ngIf="tabContext$ | async as tabContext">
  <ng-container *ngIf="editorMode">
    <div class="material-symbols-outlined" (click)="doEditorAction()">settings</div>
  </ng-container>

  <div *ngIf="tabContext.tabList.length > 0">
    <div class="d-flex border-bottom">
      <div class="tab-heading"
           [ngClass]="{
           'border-bottom': metaPage.name === selectedMetaPage.name,
           'border-primary': metaPage.name === selectedMetaPage.name,
           'border-4': metaPage.name === selectedMetaPage.name
           }"
           *ngFor="let metaPage of tabContext.tabList; index as i">
        <div (click)="onTabMetaPageSelected(metaPage, i)">
          {{metaPage.title}}
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="tabContext.tabList.length">
    <ng-container *ngFor="let metaPage of tabContext.tabList; index as i">
      <ng-container *ngIf="selectedTabIdx === i">
        <div class="col-12">
          <lib-layout [ctx]="ctx" [template]="tabContext.tabList[i].templates[0]"></lib-layout>
        </div>
      </ng-container>
    </ng-container>
  </div>

  <div *ngIf="tabContext.tabList.length === 0">
    No Tabs defined yet
  </div>
</ng-container>
