<ng-container *ngIf="ctx && template">

  <ng-container *ngIf="showTemplateHeadings && template.templateHeading && mode">
    <ng-container *ngIf="template.templateHeading === '${name}'">
      <h3 class="text-center">
        <lib-expression-control [mode]="mode" [formGroup]="formGroup" [expression]="template.templateHeading"></lib-expression-control>
      </h3>
    </ng-container>
    <ng-container *ngIf="template.templateHeading !== '${name}'">
      <h3>
        <lib-expression-control [mode]="mode" [formGroup]="formGroup" [expression]="template.templateHeading"></lib-expression-control>
      </h3>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="debugService.ON">
    <p class="small">LayoutComponent: {{template.type}} - {{template.binding}}</p>
  </ng-container>

  <ng-container [ngSwitch]="template.type">
    <lib-form-layout
      *ngSwitchCase="'form'"
      [ctx]="ctx"
      [template]="template">
    </lib-form-layout>

    <lib-table-layout
      *ngSwitchCase="'table'"
      [ctx]="ctx"
      [template]="template"
      [mode]="mode"
      [formGroup]="formGroup"
      [relationshipProperty]="relationshipProperty">
    </lib-table-layout>

    <lib-card-layout
      *ngSwitchCase="'card'"
      [mode]="mode"
      [formGroup]="formGroup"
      [relationshipProperty]="relationshipProperty">
    </lib-card-layout>
  </ng-container>
</ng-container>
