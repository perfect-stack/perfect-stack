<ng-container *ngIf="cell && cell.tool">
  <lib-tool-view [tool]="cell.tool" [formGroup]="formGroup"></lib-tool-view>
</ng-container>

<ng-container *ngIf="formGroup && mode && cell && cell.attribute && !cell.tool">
  <ng-container [ngSwitch]="cell.attribute.type">
    <ng-container *ngSwitchCase="'Date'">
      <app-date-picker-control  [mode]="mode" [formGroup]="formGroup" [name]="cell.attribute.name"></app-date-picker-control>
    </ng-container>

    <ng-container *ngSwitchCase="'DateTime'">
      <lib-date-time-control [mode]="mode" [formGroup]="formGroup" [name]="cell.attribute.name"></lib-date-time-control>
    </ng-container>

    <ng-container *ngSwitchCase="['Text', 'Html', 'Double', 'Integer'].includes(cell.attribute.type) ? cell.attribute.type : ''">
      <ng-container [ngSwitch]="cell.component">
        <ng-container *ngSwitchCase="'TextArea'">
          <app-text-area-control [mode]="mode" [cell]="cell" [formGroup]="formGroup" [attribute]="cell.attribute"></app-text-area-control>
        </ng-container>

        <ng-container *ngSwitchDefault>
          <lib-text-field-control [mode]="mode" [formGroup]="formGroup" [name]="cell.attribute.name"></lib-text-field-control>
        </ng-container>
      </ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'Boolean'">
      <lib-boolean-check-box-control [mode]="mode" [formGroup]="formGroup" [attribute]="cell.attribute"></lib-boolean-check-box-control>
    </ng-container>

    <ng-container *ngSwitchCase="'Enumeration'">
      <lib-enumeration-control [mode]="mode" [cell]="cell" [attribute]="cell.attribute" [formGroup]="formGroup"></lib-enumeration-control>
    </ng-container>

    <ng-container *ngSwitchCase="'OneToMany'">
      <lib-one-to-many-control [mode]="mode" [cell]="cell" [formGroup]="formGroup"></lib-one-to-many-control>
    </ng-container>

    <ng-container *ngSwitchCase="'OneToOne'">
      <lib-one-to-one-control [mode]="mode" [cell]="cell" [formGroup]="formGroup"></lib-one-to-one-control>
    </ng-container>

    <ng-container *ngSwitchCase="'ManyToOne'">
      <ng-container [ngSwitch]="cell.component">
        <ng-container *ngSwitchCase="'Select'">
          <app-select-control [mode]="mode" [formGroup]="formGroup" [attribute]="cell.attribute"></app-select-control>
        </ng-container>

        <ng-container *ngSwitchCase="'SelectTwo'">
          <lib-select-two-control [mode]="mode" [cell]="cell" [formGroup]="formGroup" [attribute]="cell.attribute"></lib-select-two-control>
        </ng-container>

        <!-- This isn't ideal, it means StaticImage only work if the attribute type equals ManyToOne, but will do for now -->
        <ng-container *ngSwitchCase="'StaticImage'">
          <lib-static-image-control></lib-static-image-control>
        </ng-container>

        <ng-container *ngSwitchDefault>
          <app-many-to-one-control [mode]="mode" [ctx]="ctx" [formGroup]="formGroup" [attribute]="cell.attribute"></app-many-to-one-control>
        </ng-container>
      </ng-container>
    </ng-container>

    <ng-container *ngSwitchCase="'OneToPoly'">
      <lib-one-to-poly-control [mode]="mode" [cell]="cell" [formGroup]="formGroup"></lib-one-to-poly-control>
    </ng-container>

    <ng-container *ngSwitchDefault>
      ERROR: Missing or unknown attribute type of: "{{cell.attribute.type}}"
    </ng-container>
  </ng-container>
</ng-container>
