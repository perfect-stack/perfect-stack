<div class="container-fluid mt-3">
  <ng-container *ngIf="metaPage$ | async as metaPage">

    <h2>Page Edit</h2>

    <div class="row">
      <div class="col-4">
        <form class="form" #form="ngForm" [formGroup]="metaPageForm">
          <div class="form-group row">
            <label class="col-2" for="name">Name</label>
            <input class="col-10 form-control" type="text" id="name" formControlName="name">
          </div>
          <div class="form-group row">
            <label class="col-2" for="title">Title</label>
            <input class="col-10 form-control" type="text" id="title" formControlName="title">
          </div>
          <div class="form-group row">
            <label class="col-2" for="type">Type</label>
            <select class="col-10 form-control" id="type" formControlName="type">
              <option *ngFor="let o of getPageTypeOptions()" [ngValue]="o">{{o}}</option>
            </select>
          </div>
        </form>
      </div>
    </div>

    <ng-container *ngFor="let nextTemplate of templates">
      <app-template-controller [template]="nextTemplate"></app-template-controller>
    </ng-container>

    <div class="d-flex my-5">
      <button class="btn btn-outline-success" (click)="onAddTemplate()">Add Template</button>
      <div class="flex-grow-1"></div>
      <button class="btn btn-danger me-2" (click)="onDelete(metaPage)">Delete</button>
      <button class="btn btn-outline-secondary me-2" (click)="onCancel()">Cancel</button>
      <button class="btn btn-primary" (click)="onSave()">Save</button>
    </div>

  </ng-container>
</div>
